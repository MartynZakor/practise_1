#Zadanie1 
show create table project;
alter table project drop foreign key project_ibfk_1;
show create table project;

alter table pracownik modify id_pracownika int;
alter table pracownik drop primary key ;
alter table pracownik add primary key (id_pracownika);
alter table pracownik modify id_pracownika int NOT NULL auto_increment;

alter table zadanie add foreign key (pracownik) references pracownik (id_pracownika);
alter table project add foreign key (menedzer_projectu) references pracownik (id_pracownika);

#zadanie2
alter table zadanie add column godziny_szacowane INT DEFAULT 8;

select * from zadanie;
update zadanie SET godziny_szacowane = 4 where id_zadania = 1;
update zadanie SET godziny_szacowane = 12 where id_zadania = 2;
update zadanie SET godziny_szacowane = 16 where id_zadania = 3;

alter table zadanie modify godziny_szacowane INT DEFAULT 6;

INSERT into zadanie (nazwa_zadania, opis) VALUES ('Working', 'Done');
select * from zadanie;
delete from zadanie where id_zadania = 4;

#zadanie3
alter table project add column opis_projektu VARCHAR(50);
alter table project modify opis_projektu VARCHAR(200);
INSERT INTO project (numer_sprintu, data_rozpoczecia, data_zakonczenia, menedzer_projectu, opis_projektu)
VALUES (1, '2020-11-03', '2020-11-04', 2, 'MVP');
INSERT INTO project (numer_sprintu, data_rozpoczecia, data_zakonczenia, menedzer_projectu, opis_projektu)
VALUES (1, '2020-11-03', '2020-11-04', 2, 'Pilne');

alter table project drop column opis_projektu;

#zadanie4
alter table zadanie add foreign key (project) references project (id_projectu) on delete set null;
select * from zadanie;
delete from zadanie where id_zadania = 3;
select * from zadanie;

